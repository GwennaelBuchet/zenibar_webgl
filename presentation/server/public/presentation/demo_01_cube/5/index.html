<!DOCTYPE HTML>
<!--
	Visualize by TEMPLATED
	templated.co @templatedco
	Released for free under the Creative Commons Attribution 3.0 license (templated.co/license)
-->
<html>
<head>
    <title>Welcome to Zenibar !</title>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <link rel="stylesheet" type="text/css" href="../../assets/sunburst.css">
    <link rel="stylesheet" type="text/css" href="../../assets/main.css"/>
</head>
<body>
    <!-- Wrapper -->
    <div id="wrapper">
        <!-- Header -->
        <header id="header">
            <span class="avatar"><img src="../../assets/beer2.jpg" alt=""/></span>
            <h1>Passer d'un référentiel à l'autre</h1>
        </header>
        <!-- Main -->
        <section id="content_center">

            <div class="column-right">

                todo : ajouter schéma des matrice model -> view/camera -> projection

                <h2>Etape 2 : Définir <span style="color:grey">les buffers &</span> les matrices</h2>
                
                <br/>
                <h3>5. Définir la matrice de projection des objets (projectionMatrix) :</h3>
                <pre style="text-align: left" class="prettyprint lang-js">
    const fieldOfView = 45 * Math.PI / 180;   // in radians
    const aspect = gl.canvas.clientWidth / gl.canvas.clientHeight;
    //define the field of view deepness
    const zNear = 0.1;
    const zFar = 100.0;

    const projectionMatrix = mat4.create();
    mat4.perspective(projectionMatrix,
                        fieldOfView,
                        aspect,
                        zNear,
                        zFar);</pre>

                <br/>
                <h3>6. Définir la matrice de positionnement des objets (modelViewMatrix) :</h3>
                <pre style="text-align: left" class="prettyprint lang-js">
    let modelViewMatrix = mat4.create();
    // let's move the object to -10 along Z axis (to move away from the "camera")
    mat4.translate(modelViewMatrix,      modelViewMatrix,       [0.0, 0.0, -10.0]);
    //             ↳ destination matrix, ↳ matrix to translate, ↳ amount to translate

    // let's rotate the model view
    mat4.rotate(modelViewMatrix,    // destination matrix
                modelViewMatrix,    // matrix to rotate
                -0.5,               // amount to rotate in radians
                [-0.5, 1, 0]);      // axis to rotate around</pre>
            </div>
        </section>
    </div>

    <script id="vshader-simple" type="x-shader/x-vertex">#version 300 es
        in vec4 aVertexPosition;
        in vec4 aVertexColor;

        uniform mat4 uModelViewMatrix;
        uniform mat4 uProjectionMatrix;

        out lowp vec4 vColor;

        void main(void) {
            gl_Position = uProjectionMatrix * uModelViewMatrix * aVertexPosition;
            gl_PointSize = 10.0;
            vColor = aVertexColor;
        }
    </script>

    <script id="fshader-simple" type="x-shader/x-fragment">#version 300 es
        precision mediump float;

        in lowp vec4 vColor;
        out vec4 outColor;

        void main(void) {
            outColor = vColor;
        }
    </script>

    <script src="../../js/run-prettify.js?skin=sunburst"></script>

    <script src="../../js/init.js"></script>
    <script src="../gl-matrix.js"></script>
    <script src="../zenibar.js"></script>
        
    <script>
        document.addEventListener("keydown", navigation, false);
        function navigation(event) {
            if (event.key.toUpperCase() === "ARROWRIGHT") {
                nextPage();
            } else if (event.key.toUpperCase() === "ARROWLEFT") {
                previousPage();
            }
        }
    </script>
    
</body>
</html>